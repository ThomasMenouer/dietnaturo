<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Facture - dietnaturo.fr</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
    <div class="container my-5 p-4 bg-white rounded shadow-sm">
        <!-- En-tÃªte -->
        <div class="row mb-4">
            <div class="col">
                <h1 class="text-success mb-1">Facture</h1>
                <p class="mb-0 text-muted">RÃ©fÃ©rence : <strong>{{ invoiceNumber }}</strong></p>
                <p class="text-muted">Date : {{ order.createdAt|date('d/m/Y H:i') }}</p>
            </div>
            <div class="col text-end">
                <img src="https://dietnaturo.fr/logo.png" alt="Logo DietNaturo" style="height:60px;" onerror="this.style.display='none'">
            </div>
        </div>

        <!-- Informations client -->
        <div class="mb-4">
            <h5 class="text-success">Informations Client</h5>
            <div class="border rounded p-3">
                <p class="mb-1"><strong>{{ order.firstname }} {{ order.lastname }}</strong></p>
                <p class="mb-1">{{ order.email }}</p>
                {% if order.address %}
                    <p class="mb-1">{{ order.address }}</p>
                    <p class="mb-0">{{ order.postalCode }} {{ order.city }}</p>
                {% endif %}
            </div>
        </div>

        <!-- DÃ©tails commande -->
        <div class="table-responsive">
            <table class="table table-striped align-middle">
                <thead class="table-success">
                    <tr>
                        <th scope="col">Produit</th>
                        <th scope="col" class="text-center">QuantitÃ©</th>
                        <th scope="col" class="text-end">Prix</th>
                    </tr>
                </thead>
                <tbody>
                    {% for detail in order.orderDetails %}
                        <tr>
                            <td>{{ detail.productName }}</td>
                            <td class="text-center">{{ detail.quantity }}</td>
                            <td class="text-end">{{ (detail.price / 100)|number_format(2, ',', '.') }} â‚¬</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <!-- Total -->
        <div class="text-end mt-3">
            <p class="fs-5 mb-0"><strong>Total TTC :</strong> {{ (order.totalPrice / 100)|number_format(2, ',', '.') }} â‚¬</p>
        </div>

        <!-- Pied de page -->
        <div class="border-top mt-4 pt-3 text-center text-muted small">
            <p class="mb-1"><strong>dietnaturo.fr</strong> â€” Votre partenaire bien-Ãªtre au naturel ðŸŒ¿</p>
            <p class="mb-1">SIRET : 123 456 789 00012 | contact@dietnaturo.fr</p>
            <p class="mb-0">Facture gÃ©nÃ©rÃ©e automatiquement â€” aucune signature nâ€™est requise.</p>
        </div>
    </div>
</body>
</html>
